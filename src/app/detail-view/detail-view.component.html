<div [ngSwitch]="table">
  <!-- Missing‐Person Detail View -->
  <ng-container *ngSwitchCase="'mp'">
    <h1 class="case-title">
      Case {{ caseDetails?.case_number || "Loading..." }}
    </h1>

    <div class="main-container">
      <!-- Navigation -->
      <nav class="navigation">
        <a class="back-link" [routerLink]="['/search/mp/results']">
          &larr; Return to Search Results
        </a>
      </nav>

      <!-- Portrait Section -->
      <section class="portrait-section">
        <img
          class="portrait-img"
          [src]="
            caseDetails?.portrait_url ||
            'https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_960_720.png'
          "
          width="300"
          height="300"
          alt="Portrait"
        />
      </section>

      <!-- Demographics Section -->
      <section class="info-section demographics">
        <header class="section-header"><h2>Demographics</h2></header>
        <div class="details">
          <div class="detail-row">
            <div class="attribute">
              <label>First Name</label><br />
              <span>{{ caseDetails?.first_name || "--" }}</span>
            </div>
            <div class="attribute">
              <label>Middle Name</label><br />
              <span>{{ caseDetails?.middle_name || "--" }}</span>
            </div>
            <div class="attribute">
              <label>Last Name</label><br />
              <span>{{ caseDetails?.last_name || "--" }}</span>
            </div>
          </div>
          <div class="detail-row">
            <div class="attribute">
              <label>Biological Sex</label><br />
              <span>{{ caseDetails?.biological_sex || "--" }}</span>
            </div>
            <div class="attribute">
              <label>Race / Ethnicity</label><br />
              <span>{{ caseDetails?.race_or_ethnicity || "--" }}</span>
            </div>
            <div class="attribute">
              <label>Location Found</label><br />
              <span>
                {{ caseDetails?.city || "--" }},
                {{ caseDetails?.county || "--" }},
                {{ caseDetails?.state || "--" }}
              </span>
            </div>
          </div>
          <div class="detail-row">
            <div class="attribute">
              <label>Missing Age</label><br />
              <span>{{ caseDetails?.missing_age || "--" }}</span>
            </div>
            <div class="attribute">
              <label>Current Age</label><br />
              <span>{{ caseDetails?.current_age || "--" }}</span>
            </div>
          </div>
          <div class="detail-row">
            <div class="attribute">
              <label>Height</label><br />
              <span>{{ caseDetails?.height || "--" }} inches</span>
            </div>
            <div class="attribute">
              <label>Weight</label><br />
              <span>{{ caseDetails?.weight || "--" }} lbs</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Physical Description Section -->
      <section class="info-section physical-description">
        <header class="section-header"><h2>Physical Description</h2></header>
        <div class="details">
          <div class="detail-row">
            <div class="attribute">
              <label>Eyes (Left / Right)</label><br />
              <span
                >{{ caseDetails?.left_eye_color || "--" }} /
                {{ caseDetails?.right_eye_color || "--" }}</span
              >
            </div>
            <div class="attribute">
              <label>Hair Color</label><br />
              <span>{{ caseDetails?.hair_color || "--" }}</span>
            </div>
          </div>
          <div class="detail-row">
            <div class="attribute">
              <label>Head Hair Description</label><br />
              <span>{{ caseDetails?.hair_description || "--" }}</span>
            </div>
            <div class="attribute">
              <label>Facial Hair Description</label><br />
              <span>{{ caseDetails?.facial_hair_description || "--" }}</span>
            </div>
            <div class="attribute">
              <label>Body Hair Description</label><br />
              <span>{{ caseDetails?.body_hair_description || "--" }}</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Circumstances Section -->
      <section class="info-section circumstances">
        <header class="section-header"><h2>Circumstances</h2></header>
        <div class="details">
          <div class="detail-row">
            <div class="attribute">
              <label>Last Seen Date</label><br />
              <span>
                {{
                  caseDetails?.last_seen_date
                    ? (caseDetails?.last_seen_date | date: "longDate")
                    : "--"
                }}
              </span>
            </div>
          </div>
          <div class="detail-row">
            <div class="attribute">
              <label>Circumstances Detail</label><br />
              <span>{{ caseDetails?.description || "--" }}</span>
            </div>
          </div>
          <div class="detail-row">
            <div class="attribute">
              <label>Possible Sightings</label><br />
              <span>{{ caseDetails?.possible_sightings || "--" }}</span>
            </div>
          </div>
          <div class="detail-row">
            <div class="attribute">
              <label>Articles Info</label><br />
              <span>{{ caseDetails?.articledescription || "--" }}</span>
            </div>
          </div>
        </div>
      </section>
    </div>
  </ng-container>

  <!-- Unidentified‐person layout -->
  <ng-container *ngSwitchCase="'up'">
    <h1 class="case-title">
      Case {{ caseDetails?.namus_number || "Loading..." }}
    </h1>

    <div class="main-container">
      <!-- Navigation -->
      <nav class="navigation">
        <a class="back-link" [routerLink]="['/search/up/results']">
          &larr; Return to Search Results
        </a>
      </nav>

      <!-- Portrait Section -->
      <section class="portrait-section">
        <img
          class="portrait-img"
          [src]="
            caseDetails?.portrait_url ||
            'https://cdn.pixabay.com/photo/2016/08/08/09/17/avatar-1577909_960_720.png'
          "
          width="300"
          height="300"
          alt="Portrait"
        />
      </section>

      <!-- Demographics Section -->
      <section class="info-section demographics">
        <header class="section-header"><h2>Demographics</h2></header>
        <div class="details">
          <div class="detail-row">
            <div class="attribute">
              <label>Biological Sex</label><br />
              <span>{{ caseDetails?.biological_sex || "--" }}</span>
            </div>
            <div class="attribute">
              <label>Race / Ethnicity</label><br />
              <span>{{ caseDetails?.primary_ethnicity || "--" }}</span>
            </div>
            <div class="attribute">
              <label>Location Found</label><br />
              <span>
                {{ caseDetails?.city || "--" }},
                {{ caseDetails?.county || "--" }},
                {{ caseDetails?.state || "--" }}
              </span>
            </div>
          </div>
          <div class="detail-row">
            <div class="attribute">
              <label>Estimated Age From</label><br />
              <span>{{ caseDetails?.estimated_age_from || "--" }}</span>
            </div>
            <div class="attribute">
              <label>Estimated Age To</label><br />
              <span>{{ caseDetails?.estimated_age_to || "--" }}</span>
            </div>
          </div>
          <div class="detail-row">
            <div class="attribute">
              <label>Height</label><br />
              <span>{{ caseDetails?.height_from || "--" }} inches</span>
            </div>
            <div class="attribute">
              <label>Weight</label><br />
              <span>{{ caseDetails?.weight || "--" }} lbs</span>
            </div>
          </div>
          <div class="detail-row">
            <div class="attribute">
              <label>Circumstances of Recovery</label><br />
              <span>{{ caseDetails?.circumstances_of_recovery || "N/A" }}</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Physical Description Section -->
      <section class="info-section physical-description">
        <header class="section-header"><h2>Physical Description</h2></header>
        <div class="details">
          <div class="detail-row">
            <div class="attribute">
              <label>Eyes: Left / Right</label><br />
              <span>
                {{ caseDetails?.left_eye_color || "--" }} /
                {{ caseDetails?.right_eye_color || "--" }}
              </span>
            </div>
            <div class="attribute">
              <label>Hair Color</label><br />
              <span>{{ caseDetails?.hair_color || "--" }}</span>
            </div>
          </div>
          <div class="detail-row">
            <div class="attribute">
              <label>Head Hair Description</label><br />
              <span>{{ caseDetails?.head_hair_description || "--" }}</span>
            </div>
          </div>
          <div class="detail-row">
            <div class="attribute">
              <label>Facial Hair Description</label><br />
              <span>{{ caseDetails?.facial_hair_description || "--" }}</span>
            </div>
          </div>
          <div class="detail-row">
            <div class="attribute">
              <label>Body Hair Description</label><br />
              <span>{{ caseDetails?.body_hair_description || "--" }}</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Circumstances Section -->
      <section class="info-section circumstances">
        <header class="section-header"><h2>Circumstances</h2></header>
        <div class="details">
          <div class="detail-row">
            <div class="attribute">
              <label>Date Recovered</label><br />
              <span>
                {{
                  caseDetails?.date_found
                    ? (caseDetails.date_found | date: "longDate")
                    : "--"
                }}
              </span>
            </div>
          </div>
          <div class="detail-row">
            <div class="attribute">
              <label>Recovery Info</label><br />
              <span>{{ caseDetails?.circumstances_of_recovery || "--" }}</span>
            </div>
          </div>
          <div class="detail-row">
            <div class="attribute">
              <label>Articles Info</label><br />
              <span>{{ caseDetails?.articledescription || "--" }}</span>
            </div>
          </div>
        </div>
      </section>
    </div>
  </ng-container>

  <!-- Fallback if table is neither 'mp' nor 'up' -->
  <ng-container *ngSwitchDefault>
    <p>Sorry, we don’t know how to display this case type.</p>
  </ng-container>
</div>
